<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Customer Registration</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
body{
    font-family:'Poppins',sans-serif;
    min-height:100vh;
    background:linear-gradient(135deg,#1d2671,#c33764);
    display:flex;
    align-items:center;
    justify-content:center;
}
.register-card{
    background:rgba(255,255,255,0.15);
    backdrop-filter:blur(12px);
    border-radius:20px;
    padding:35px;
    color:#fff;
    width:100%;
    max-width:420px;
    box-shadow:0 20px 40px rgba(0,0,0,0.3);
}
.form-control{
    border-radius:30px;
    padding-left:50px;
}
.input-icon{
    position:absolute;
    top:50%;
    left:18px;
    transform:translateY(-50%);
    color:#6c757d;
}
.country-code{
    position:absolute;
    top:50%;
    left:45px;
    transform:translateY(-50%);
    color:#6c757d;
}
</style>
</head>

<body>

<div class="register-card">
    
    <div class="text-center mb-4">
        <i class="bi bi-person-plus-fill fs-1"></i>
        <h3 class="fw-bold mt-2">Customer Registration</h3>
        <p class="small">Create your Heavy Deals account</p>
    </div>

    {% if msg %}
    <div class="alert alert-danger text-center py-2">{{ msg }}</div>
    {% endif %}

    <form id="registerForm" method="post" action="/Customer_Ragistration">

        <div class="mb-3 position-relative">
            <i class="bi bi-person input-icon"></i>
            <input type="text" name="N" class="form-control" placeholder="Full Name" required>
        </div>

        <div class="mb-3 position-relative">
            <i class="bi bi-phone input-icon"></i>
            <input type="text" name="Num" class="form-control ps-5"
                   placeholder="Mobile Number" maxlength="10" minlength="10" required>
        </div>

        <div class="mb-3 position-relative">
            <i class="bi bi-envelope input-icon"></i>
            <input type="email" name="E" class="form-control"
                   placeholder="Email Address" required>
        </div>

        <div class="mb-3 position-relative">
            <i class="bi bi-lock input-icon"></i>
            <input type="password" id="password" name="P"
                   class="form-control" placeholder="Password" required>
        </div>

        <div class="mb-3 position-relative">
            <i class="bi bi-lock-fill input-icon"></i>
            <input type="password" id="confirmPassword"
                   class="form-control" placeholder="Confirm Password" required>
        </div>

        <button type="submit" class="btn btn-success w-100 mb-3">
            Register
        </button>

        <p class="text-center small">
            Already have an account?
            <a href="/Customer_Login" class="text-warning">Login</a>
        </p>

        <p class="text-center small">
            <a href="/" class="text-light">‚Üê Back to Home</a>
        </p>
    </form>
</div>

<script>
document.getElementById("registerForm").addEventListener("submit", function(e){
    let pass = document.getElementById("password").value;
    let cpass = document.getElementById("confirmPassword").value;

    let regex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&]).{8,}$/;

    if(!regex.test(pass)){
        alert("Password must be at least 8 characters and include:\n1 Capital\n1 Small\n1 Number\n1 Special Character");
        e.preventDefault();
        return;
    }

    if(pass !== cpass){
        alert("Passwords do not match");
        e.preventDefault();
    }
});
</script>

</body>
</html>
